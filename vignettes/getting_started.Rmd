---
title: "Getting started"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


```{r setup}
library(BOE)
```

# Introduction

The goal of BOE is to provide tools to retrieve data from [BOE](https://boe.es) the official gazette of Spain.
Since 2009 the online documents have all the legal validation, but documents published before are accessible from the website too.

The main purpose of this program is to make easily accessible the publications the [Agencia Estatal Bolet√≠n del Estado](https://boe.es) provides as the legal and valid source of law.
It provides functions to tidy the *sumario* and retrieve the individual ".pdf" of each publication and summaries. 
To retrieve a document we need the publication code.
For summaries we can use two types of codes `BOE-S-YYYYMMDD` and `BOE-S-YYYY-NNN`.
The first one is useful to retrieve a document of certain date, while the second one is useful if we know in which summary was it published. Note at most there is one *sumario* per day, so 365 is the max, but usually none is published on Sundays. 
At the same site we can access the [BORME](https://boe.es/diario_borme/) which is another journal to register of organizations commercial activity. 
The summaries from this journal can also be retrieved using the option `journal = "BORME"`. 

There is a mix of words in the package I left the document names as in Spanish but changed the verbs are in English.
Hope it is easier this way for Spanish speaking people if it is not for you [open an issue](https://github.com/rOpenSci/BOE/issues/new) and let me know.  

# Sumario

It is a summary of the publications of the day with information about the 
summary number, section, departament, epigraph, brief text of the publication, 
publication's number of pages of the pdf.

The easiest way to get a *sumario* is using [`retrieve_sumario()`]:

```{r sumario}
today <- Sys.Date()
sumario_hoy <- retrieve_sumario(today)
head(sumario_hoy)
```

# Publications

Once you select those publications

```{r url-publications}
url_publications(sumario_hoy[1:5, ])
```

# Check codes

Say you got a code of a BOE and you want to know if it is valid. Then you can use [`check_code()`]:

```{r check-code, error=TRUE}
check_code("BOE-A-1968970")
check_code("BOE-A-19-68970")
```
If you code is not valid it won't be requested to the website. 

# Session Info {-}

```{r session_info}
sessionInfo()
```

